<!doctype html>
<html lang="en">    
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta content='width=device-width, initial-scale=1, maximum-scale=1' name='viewport'>
  <meta content='width=device-width, initial-scale=1, maximum-scale=1' media='(device-height: 568px)' name='viewport'>
  <title>Chat test page</title>
</head>
  <body>
    <h1>Test chat page</h1>
<style>
  .my-messenger {
    position: unset;
  }
  .my-container {
    position: unset;
    width: unset;
  }
  #toggle-button {
    margin-top: 20px;
    padding: 10px;
    background: red;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    border: 1px solid;
  }
  #messenger-container {
    position: fixed;
    bottom: 20px;
    left: 20px;
  }
</style>
<div id="messenger-container">
  <div id="my-messenger"></div>
  <button id="toggle-button">Open</button>
</div>
  <script>
    (function (d, t) {
      var g = d.createElement(t), s = d.getElementsByTagName(t)[0];
      g.src = "https://test.ca.digital-front-door.dev.gcp.trchq.com/embed.js";
      s.parentNode.insertBefore(g, s);
      g.onload = function () {
        window.virtualCareMessenger = new window.VirtualCareMessengerEncrypted({
          domain: "https://test.ca.digital-front-door.dev.gcp.trchq.com",
          ws: 'wss://test.ca.digital-front-door.dev.gcp.trchq.com/cable',
          lang: "en",
          app_id: "NKubX8qcG34kVPYPNEabB5A5",
          mode: "default",
          wrapperId: "my-messenger",
          hideToggleButton: true,
          containerClassName: "my-container",
          messengerClassName: "my-messenger",
        });

        document.getElementById("toggle-button").addEventListener("click", function (e) {
          virtualCareMessenger.toggleMessenger();
          e.srcElement.innerText = virtualCareMessenger.isOpen ? "Close" : "Open";
        });
      }
    })(document, "script");
  </script>
</body>
</html>
